webpackHotUpdate_N_E("pages/bookmark",{

/***/ "./contexts/Bookmark/index.tsx":
/*!*************************************!*\
  !*** ./contexts/Bookmark/index.tsx ***!
  \*************************************/
/*! exports provided: BookmarkContext, BookmarkProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BookmarkContext\", function() { return BookmarkContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BookmarkProvider\", function() { return BookmarkProvider; });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../env */ \"./env/index.tsx\");\n\n\n\nvar _this = undefined,\n    _jsxFileName = \"/Users/jeonghean/projects/clog/clog_web/contexts/Bookmark/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar BookmarkContext = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"createContext\"])({\n  isLoading: false,\n  isRefreshing: false,\n  bookmarks: [],\n  bookmarkPost: undefined,\n  ordering: 'desc',\n  addBookmark: function addBookmark() {},\n  deleteBookmark: function deleteBookmark() {},\n  getBookmarks: function getBookmarks() {},\n  getNextBookmarks: function getNextBookmarks() {},\n  refreshBookmarks: function refreshBookmarks() {},\n  blockPost: function blockPost() {},\n  blockAuthor: function blockAuthor() {},\n  changeOrdering: function changeOrdering() {}\n});\n\nvar BookmarkProvider = function BookmarkProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      isRefreshing = _useState2[0],\n      setIsRefreshing = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])([]),\n      bookmarks = _useState3[0],\n      setBookmarks = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(undefined),\n      pageInfo = _useState4[0],\n      setPageInfo = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(undefined),\n      bookmarkPost = _useState5[0],\n      setBookmarkPost = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])('desc'),\n      ordering = _useState6[0],\n      setOrdering = _useState6[1];\n\n  var addRandomAds = function addRandomAds(data) {\n    var result = Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data);\n\n    for (var index = 0; index < data.length; index++) {\n      var max = index + 8;\n      var min = index + 5;\n      var randomIndex = Math.floor(Math.random() * (max - min)) + min;\n      result.splice(randomIndex, 0, 'Ads').join();\n      index += randomIndex;\n    }\n\n    return result;\n  };\n\n  var getBookmarks = function getBookmarks(pageIndex) {\n    var token = localStorage.getItem('token');\n\n    if (token) {\n      var url = \"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks?ordering=\").concat(ordering);\n\n      if (pageIndex) {\n        url += \"&page=\".concat(pageIndex);\n      }\n\n      axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        var _response$data = response.data,\n            data = _response$data.data,\n            currentPageIndex = _response$data.current_page,\n            totalPageCount = _response$data.last_page;\n        var dataWithAds = addRandomAds(data);\n\n        if (pageIndex) {\n          setBookmarks([].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bookmarks), Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataWithAds)));\n        } else {\n          setBookmarks(dataWithAds);\n        }\n\n        setPageInfo({\n          currentPageIndex: currentPageIndex,\n          totalPageCount: totalPageCount\n        });\n      })[\"catch\"](function (error) {\n        console.log('[ERROR] Get Bookmarks');\n        console.log(error.response.data);\n      }).then(function () {\n        setIsLoading(true);\n        setIsRefreshing(false);\n      });\n    }\n  };\n\n  var getNextBookmarks = function getNextBookmarks() {\n    if (pageInfo) {\n      var currentPageIndex = pageInfo.currentPageIndex,\n          totalPageCount = pageInfo.totalPageCount;\n\n      if (currentPageIndex < totalPageCount) {\n        getBookmarks(currentPageIndex + 1);\n      }\n    }\n  };\n\n  var addBookmark = function addBookmark(post) {\n    setBookmarkPost({\n      id: post.id,\n      isBookmark: true\n    });\n    var token = localStorage.getItem('token');\n    axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks/add\"), {\n      id: post.id\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function () {})[\"catch\"](function (error) {\n      console.log('[ERROR] Add Bookmarks');\n      console.log(error.response.data);\n    });\n    setBookmarks([_objectSpread(_objectSpread({}, post), {}, {\n      bookmark_user_id: 1\n    })].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bookmarks)));\n  };\n\n  var removeBookmark = function removeBookmark(id) {\n    var adsCount = 0;\n    var tempBookmarks = bookmarks.filter(function (item) {\n      if (item === 'Ads') {\n        adsCount++;\n        return true;\n      }\n\n      return item.id !== id;\n    });\n\n    if (tempBookmarks.length === adsCount) {\n      tempBookmarks = [];\n    }\n\n    if (tempBookmarks[0] === 'Ads') {\n      tempBookmarks.shift();\n    }\n\n    setBookmarks(tempBookmarks);\n  };\n\n  var deleteBookmark = function deleteBookmark(id) {\n    removeBookmark(id);\n    var token = localStorage.getItem('token');\n    setBookmarkPost({\n      id: id,\n      isBookmark: false\n    });\n    axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks/delete\"), {\n      id: id\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function () {})[\"catch\"](function (error) {\n      console.log('[ERROR] Delete Bookmarks');\n      console.log(error.response.data);\n    });\n  };\n\n  var refreshBookmarks = function refreshBookmarks() {\n    setIsRefreshing(true);\n    getBookmarks();\n  };\n\n  var blockPost = function blockPost(postId) {\n    removeBookmark(postId);\n  };\n\n  var blockAuthor = function blockAuthor(authorId) {\n    var adsCount = 0;\n    var tempBookmarks = bookmarks.filter(function (item) {\n      if (item === 'Ads') {\n        adsCount++;\n        return true;\n      }\n\n      return item['author_id'] !== authorId;\n    });\n\n    if (tempBookmarks.length === adsCount) {\n      tempBookmarks = [];\n    }\n\n    setBookmarks(tempBookmarks);\n  };\n\n  var changeOrdering = function changeOrdering(key) {\n    setOrdering(key);\n    setTimeout(function () {\n      getBookmarks(1);\n    }, 400);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    getBookmarks();\n  }, []);\n  return __jsx(BookmarkContext.Provider, {\n    value: {\n      isLoading: isLoading,\n      isRefreshing: isRefreshing,\n      bookmarks: bookmarks,\n      bookmarkPost: bookmarkPost,\n      ordering: ordering,\n      addBookmark: addBookmark,\n      deleteBookmark: deleteBookmark,\n      getBookmarks: getBookmarks,\n      getNextBookmarks: getNextBookmarks,\n      refreshBookmarks: refreshBookmarks,\n      blockPost: blockPost,\n      blockAuthor: blockAuthor,\n      changeOrdering: changeOrdering\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }, children);\n};\n\n_s(BookmarkProvider, \"qmcz3OpxPkBM/D8y7dEOK0NdLcU=\");\n\n_c = BookmarkProvider;\n\n\nvar _c;\n\n$RefreshReg$(_c, \"BookmarkProvider\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29udGV4dHMvQm9va21hcmsvaW5kZXgudHN4PzM0OWEiXSwibmFtZXMiOlsiQm9va21hcmtDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImlzTG9hZGluZyIsImlzUmVmcmVzaGluZyIsImJvb2ttYXJrcyIsImJvb2ttYXJrUG9zdCIsInVuZGVmaW5lZCIsIm9yZGVyaW5nIiwiYWRkQm9va21hcmsiLCJkZWxldGVCb29rbWFyayIsImdldEJvb2ttYXJrcyIsImdldE5leHRCb29rbWFya3MiLCJyZWZyZXNoQm9va21hcmtzIiwiYmxvY2tQb3N0IiwiYmxvY2tBdXRob3IiLCJjaGFuZ2VPcmRlcmluZyIsIkJvb2ttYXJrUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZVN0YXRlIiwic2V0SXNMb2FkaW5nIiwic2V0SXNSZWZyZXNoaW5nIiwic2V0Qm9va21hcmtzIiwicGFnZUluZm8iLCJzZXRQYWdlSW5mbyIsInNldEJvb2ttYXJrUG9zdCIsInNldE9yZGVyaW5nIiwiYWRkUmFuZG9tQWRzIiwiZGF0YSIsInJlc3VsdCIsImluZGV4IiwibGVuZ3RoIiwibWF4IiwibWluIiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzcGxpY2UiLCJqb2luIiwicGFnZUluZGV4IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXJsIiwiRU5WIiwic2VydmVyIiwiQXhpb3MiLCJnZXQiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXNwb25zZSIsImN1cnJlbnRQYWdlSW5kZXgiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbFBhZ2VDb3VudCIsImxhc3RfcGFnZSIsImRhdGFXaXRoQWRzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicG9zdCIsImlkIiwiaXNCb29rbWFyayIsImJvb2ttYXJrX3VzZXJfaWQiLCJyZW1vdmVCb29rbWFyayIsImFkc0NvdW50IiwidGVtcEJvb2ttYXJrcyIsImZpbHRlciIsIml0ZW0iLCJzaGlmdCIsInBvc3RJZCIsImF1dGhvcklkIiwia2V5Iiwic2V0VGltZW91dCIsInVzZUVmZmVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQSxJQUFNQSxlQUFlLEdBQUdDLDJEQUFhLENBQWtCO0FBQ3JEQyxXQUFTLEVBQUUsS0FEMEM7QUFFckRDLGNBQVksRUFBRSxLQUZ1QztBQUdyREMsV0FBUyxFQUFFLEVBSDBDO0FBSXJEQyxjQUFZLEVBQUVDLFNBSnVDO0FBS3JEQyxVQUFRLEVBQUUsTUFMMkM7QUFNckRDLGFBQVcsRUFBRSx1QkFBWSxDQUFFLENBTjBCO0FBT3JEQyxnQkFBYyxFQUFFLDBCQUFZLENBQUUsQ0FQdUI7QUFRckRDLGNBQVksRUFBRSx3QkFBWSxDQUFFLENBUnlCO0FBU3JEQyxrQkFBZ0IsRUFBRSw0QkFBWSxDQUFFLENBVHFCO0FBVXJEQyxrQkFBZ0IsRUFBRSw0QkFBWSxDQUFFLENBVnFCO0FBV3JEQyxXQUFTLEVBQUUscUJBQVksQ0FBRSxDQVg0QjtBQVlyREMsYUFBVyxFQUFFLHVCQUFZLENBQUUsQ0FaMEI7QUFhckRDLGdCQUFjLEVBQUUsMEJBQVksQ0FBRTtBQWJ1QixDQUFsQixDQUFyQzs7QUFvQkEsSUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixPQUFzQztBQUFBOztBQUFBLE1BQW5DQyxRQUFtQyxRQUFuQ0EsUUFBbUM7O0FBQUEsa0JBQzNCQyxzREFBUSxDQUFVLEtBQVYsQ0FEbUI7QUFBQSxNQUN0RGhCLFNBRHNEO0FBQUEsTUFDM0NpQixZQUQyQzs7QUFBQSxtQkFFckJELHNEQUFRLENBQVUsS0FBVixDQUZhO0FBQUEsTUFFdERmLFlBRnNEO0FBQUEsTUFFeENpQixlQUZ3Qzs7QUFBQSxtQkFHM0JGLHNEQUFRLENBQXNCLEVBQXRCLENBSG1CO0FBQUEsTUFHdERkLFNBSHNEO0FBQUEsTUFHM0NpQixZQUgyQzs7QUFBQSxtQkFJN0JILHNEQUFRLENBQXVCWixTQUF2QixD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a0JBQVksRUFBWkEsWUFSSztBQVNMQyxzQkFBZ0IsRUFBaEJBLGdCQVRLO0FBVUxDLHNCQUFnQixFQUFoQkEsZ0JBVks7QUFXTEMsZUFBUyxFQUFUQSxTQVhLO0FBWUxDLGlCQUFXLEVBQVhBLFdBWks7QUFhTEMsb0JBQWMsRUFBZEE7QUFiSyxLQURUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FnQkdFLFFBaEJILENBREY7QUFvQkQsQ0F2TUQ7O0dBQU1ELGdCOztLQUFBQSxnQjtBQXlNTiIsImZpbGUiOiIuL2NvbnRleHRzL0Jvb2ttYXJrL2luZGV4LnRzeC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcblxuaW1wb3J0IEVOViBmcm9tICd+L2Vudic7XG5cbmNvbnN0IEJvb2ttYXJrQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Qm9va21hcmtDb250ZXh0Pih7XG4gIGlzTG9hZGluZzogZmFsc2UsXG4gIGlzUmVmcmVzaGluZzogZmFsc2UsXG4gIGJvb2ttYXJrczogW10sXG4gIGJvb2ttYXJrUG9zdDogdW5kZWZpbmVkLFxuICBvcmRlcmluZzogJ2Rlc2MnLFxuICBhZGRCb29rbWFyazogKCk6IHZvaWQgPT4ge30sXG4gIGRlbGV0ZUJvb2ttYXJrOiAoKTogdm9pZCA9PiB7fSxcbiAgZ2V0Qm9va21hcmtzOiAoKTogdm9pZCA9PiB7fSxcbiAgZ2V0TmV4dEJvb2ttYXJrczogKCk6IHZvaWQgPT4ge30sXG4gIHJlZnJlc2hCb29rbWFya3M6ICgpOiB2b2lkID0+IHt9LFxuICBibG9ja1Bvc3Q6ICgpOiB2b2lkID0+IHt9LFxuICBibG9ja0F1dGhvcjogKCk6IHZvaWQgPT4ge30sXG4gIGNoYW5nZU9yZGVyaW5nOiAoKTogdm9pZCA9PiB7fSxcbn0pO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBjaGlsZHJlbjogSlNYLkVsZW1lbnQgfCBBcnJheTxKU1guRWxlbWVudD47XG59XG5cbmNvbnN0IEJvb2ttYXJrUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9OiBQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2lzUmVmcmVzaGluZywgc2V0SXNSZWZyZXNoaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2Jvb2ttYXJrcywgc2V0Qm9va21hcmtzXSA9IHVzZVN0YXRlPEFycmF5PFBvc3QgfCAnQWRzJz4+KFtdKTtcbiAgY29uc3QgW3BhZ2VJbmZvLCBzZXRQYWdlSW5mb10gPSB1c2VTdGF0ZTxQYWdlSW5mbyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgY29uc3QgW2Jvb2ttYXJrUG9zdCwgc2V0Qm9va21hcmtQb3N0XSA9IHVzZVN0YXRlPEJvb2ttYXJrUG9zdCB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkXG4gICk7XG4gIGNvbnN0IFtvcmRlcmluZywgc2V0T3JkZXJpbmddID0gdXNlU3RhdGU8Qm9va21hcmtPcmRlcmluZz4oJ2Rlc2MnKTtcblxuICBjb25zdCBhZGRSYW5kb21BZHMgPSAoZGF0YTogQXJyYXk8UG9zdD4pOiBBcnJheTxQb3N0IHwgJ0Fkcyc+ID0+IHtcbiAgICBjb25zdCByZXN1bHQ6IEFycmF5PFBvc3QgfCAnQWRzJz4gPSBbLi4uZGF0YV07XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRhdGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBtYXggPSBpbmRleCArIDg7XG4gICAgICBjb25zdCBtaW4gPSBpbmRleCArIDU7XG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pbjtcbiAgICAgIHJlc3VsdC5zcGxpY2UocmFuZG9tSW5kZXgsIDAsICdBZHMnKS5qb2luKCk7XG4gICAgICBpbmRleCArPSByYW5kb21JbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb25zdCBnZXRCb29rbWFya3MgPSAocGFnZUluZGV4PzogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGxldCB1cmwgPSBgJHtFTlYuc2VydmVyfS9hcGkvY2xvZy9ib29rbWFya3M/b3JkZXJpbmc9JHtvcmRlcmluZ31gO1xuICAgICAgaWYgKHBhZ2VJbmRleCkge1xuICAgICAgICB1cmwgKz0gYCZwYWdlPSR7cGFnZUluZGV4fWA7XG4gICAgICB9XG5cbiAgICAgIEF4aW9zLmdldCh1cmwsIHtcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9LFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKTogdm9pZCA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGN1cnJlbnRfcGFnZTogY3VycmVudFBhZ2VJbmRleCxcbiAgICAgICAgICAgIGxhc3RfcGFnZTogdG90YWxQYWdlQ291bnQsXG4gICAgICAgICAgfSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgY29uc3QgZGF0YVdpdGhBZHMgPSBhZGRSYW5kb21BZHMoZGF0YSk7XG5cbiAgICAgICAgICBpZiAocGFnZUluZGV4KSB7XG4gICAgICAgICAgICBzZXRCb29rbWFya3MoWy4uLmJvb2ttYXJrcywgLi4uZGF0YVdpdGhBZHNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0Qm9va21hcmtzKGRhdGFXaXRoQWRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRQYWdlSW5mbyh7XG4gICAgICAgICAgICBjdXJyZW50UGFnZUluZGV4LFxuICAgICAgICAgICAgdG90YWxQYWdlQ291bnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSBHZXQgQm9va21hcmtzJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpOiB2b2lkID0+IHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgc2V0SXNSZWZyZXNoaW5nKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldE5leHRCb29rbWFya3MgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHBhZ2VJbmZvKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRQYWdlSW5kZXgsIHRvdGFsUGFnZUNvdW50IH0gPSBwYWdlSW5mbztcbiAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4IDwgdG90YWxQYWdlQ291bnQpIHtcbiAgICAgICAgZ2V0Qm9va21hcmtzKGN1cnJlbnRQYWdlSW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYWRkQm9va21hcmsgPSAocG9zdDogUG9zdCk6IHZvaWQgPT4ge1xuICAgIHNldEJvb2ttYXJrUG9zdCh7XG4gICAgICBpZDogcG9zdC5pZCxcbiAgICAgIGlzQm9va21hcms6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICBBeGlvcy5wb3N0KFxuICAgICAgYCR7RU5WLnNlcnZlcn0vYXBpL2Nsb2cvYm9va21hcmtzL2FkZGAsXG4gICAgICB7XG4gICAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9LFxuICAgICAgfVxuICAgIClcbiAgICAgIC50aGVuKCgpOiB2b2lkID0+IHt9KVxuICAgICAgLmNhdGNoKChlcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSBBZGQgQm9va21hcmtzJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpO1xuICAgICAgfSk7XG5cbiAgICBzZXRCb29rbWFya3MoW3sgLi4ucG9zdCwgYm9va21hcmtfdXNlcl9pZDogMSB9LCAuLi5ib29rbWFya3NdKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVCb29rbWFyayA9IChpZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgbGV0IGFkc0NvdW50ID0gMDtcbiAgICBsZXQgdGVtcEJvb2ttYXJrcyA9IGJvb2ttYXJrcy5maWx0ZXIoKGl0ZW06IFBvc3QgfCAnQWRzJyk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGl0ZW0gPT09ICdBZHMnKSB7XG4gICAgICAgIGFkc0NvdW50Kys7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW0uaWQgIT09IGlkO1xuICAgIH0pO1xuXG4gICAgaWYgKHRlbXBCb29rbWFya3MubGVuZ3RoID09PSBhZHNDb3VudCkge1xuICAgICAgdGVtcEJvb2ttYXJrcyA9IFtdO1xuICAgIH1cblxuICAgIGlmICh0ZW1wQm9va21hcmtzWzBdID09PSAnQWRzJykge1xuICAgICAgdGVtcEJvb2ttYXJrcy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHNldEJvb2ttYXJrcyh0ZW1wQm9va21hcmtzKTtcbiAgfTtcblxuICBjb25zdCBkZWxldGVCb29rbWFyayA9IChpZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgcmVtb3ZlQm9va21hcmsoaWQpO1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgc2V0Qm9va21hcmtQb3N0KHtcbiAgICAgIGlkLFxuICAgICAgaXNCb29rbWFyazogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBBeGlvcy5wb3N0KFxuICAgICAgYCR7RU5WLnNlcnZlcn0vYXBpL2Nsb2cvYm9va21hcmtzL2RlbGV0ZWAsXG4gICAgICB7XG4gICAgICAgIGlkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9LFxuICAgICAgfVxuICAgIClcbiAgICAgIC50aGVuKCgpOiB2b2lkID0+IHt9KVxuICAgICAgLmNhdGNoKChlcnJvcik6IHZvaWQgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSBEZWxldGUgQm9va21hcmtzJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlLmRhdGEpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgY29uc3QgcmVmcmVzaEJvb2ttYXJrcyA9ICgpOiB2b2lkID0+IHtcbiAgICBzZXRJc1JlZnJlc2hpbmcodHJ1ZSk7XG4gICAgZ2V0Qm9va21hcmtzKCk7XG4gIH07XG5cbiAgY29uc3QgYmxvY2tQb3N0ID0gKHBvc3RJZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgcmVtb3ZlQm9va21hcmsocG9zdElkKTtcbiAgfTtcblxuICBjb25zdCBibG9ja0F1dGhvciA9IChhdXRob3JJZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgbGV0IGFkc0NvdW50ID0gMDtcbiAgICBsZXQgdGVtcEJvb2ttYXJrcyA9IGJvb2ttYXJrcy5maWx0ZXIoKGl0ZW06IFBvc3QgfCAnQWRzJyk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGl0ZW0gPT09ICdBZHMnKSB7XG4gICAgICAgIGFkc0NvdW50Kys7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1bJ2F1dGhvcl9pZCddICE9PSBhdXRob3JJZDtcbiAgICB9KTtcblxuICAgIGlmICh0ZW1wQm9va21hcmtzLmxlbmd0aCA9PT0gYWRzQ291bnQpIHtcbiAgICAgIHRlbXBCb29rbWFya3MgPSBbXTtcbiAgICB9XG5cbiAgICBzZXRCb29rbWFya3ModGVtcEJvb2ttYXJrcyk7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlT3JkZXJpbmcgPSAoa2V5OiBCb29rbWFya09yZGVyaW5nKTogdm9pZCA9PiB7XG4gICAgc2V0T3JkZXJpbmcoa2V5KTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZ2V0Qm9va21hcmtzKDEpO1xuICAgIH0sIDQwMCk7XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEJvb2ttYXJrcygpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Qm9va21hcmtDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGlzUmVmcmVzaGluZyxcbiAgICAgICAgYm9va21hcmtzLFxuICAgICAgICBib29rbWFya1Bvc3QsXG4gICAgICAgIG9yZGVyaW5nLFxuICAgICAgICBhZGRCb29rbWFyayxcbiAgICAgICAgZGVsZXRlQm9va21hcmssXG4gICAgICAgIGdldEJvb2ttYXJrcyxcbiAgICAgICAgZ2V0TmV4dEJvb2ttYXJrcyxcbiAgICAgICAgcmVmcmVzaEJvb2ttYXJrcyxcbiAgICAgICAgYmxvY2tQb3N0LFxuICAgICAgICBibG9ja0F1dGhvcixcbiAgICAgICAgY2hhbmdlT3JkZXJpbmcsXG4gICAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0Jvb2ttYXJrQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCB7IEJvb2ttYXJrQ29udGV4dCwgQm9va21hcmtQcm92aWRlciB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./contexts/Bookmark/index.tsx\n");

/***/ })

})