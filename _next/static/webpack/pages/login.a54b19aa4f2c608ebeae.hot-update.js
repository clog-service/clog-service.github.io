webpackHotUpdate_N_E("pages/login",{

/***/ "./contexts/Bookmark/index.tsx":
/*!*************************************!*\
  !*** ./contexts/Bookmark/index.tsx ***!
  \*************************************/
/*! exports provided: BookmarkContext, BookmarkProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BookmarkContext\", function() { return BookmarkContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BookmarkProvider\", function() { return BookmarkProvider; });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../env */ \"./env/index.tsx\");\n\n\n\nvar _this = undefined,\n    _jsxFileName = \"/Users/jeonghean/projects/clog/clog_web/contexts/Bookmark/index.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar BookmarkContext = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"createContext\"])({\n  isLoading: false,\n  isRefreshing: false,\n  bookmarks: [],\n  bookmarkPost: undefined,\n  ordering: 'desc',\n  addBookmark: function addBookmark() {},\n  deleteBookmark: function deleteBookmark() {},\n  getBookmarks: function getBookmarks() {},\n  getNextBookmarks: function getNextBookmarks() {},\n  refreshBookmarks: function refreshBookmarks() {},\n  blockPost: function blockPost() {},\n  blockAuthor: function blockAuthor() {},\n  changeOrdering: function changeOrdering() {}\n});\n\nvar BookmarkProvider = function BookmarkProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      isRefreshing = _useState2[0],\n      setIsRefreshing = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])([]),\n      bookmarks = _useState3[0],\n      setBookmarks = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(undefined),\n      pageInfo = _useState4[0],\n      setPageInfo = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(undefined),\n      bookmarkPost = _useState5[0],\n      setBookmarkPost = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])('desc'),\n      ordering = _useState6[0],\n      setOrdering = _useState6[1];\n\n  var addRandomAds = function addRandomAds(data) {\n    var result = Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(data);\n\n    for (var index = 0; index < data.length; index++) {\n      var max = index + 8;\n      var min = index + 5;\n      var randomIndex = Math.floor(Math.random() * (max - min)) + min;\n      result.splice(randomIndex, 0, 'Ads').join();\n      index += randomIndex;\n    }\n\n    return result;\n  };\n\n  var getBookmarks = function getBookmarks(ordering, pageIndex) {\n    var token = localStorage.getItem('token');\n\n    if (token) {\n      var url = \"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks?ordering=\").concat(ordering);\n\n      if (pageIndex) {\n        url += \"&page=\".concat(pageIndex);\n      }\n\n      axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url, {\n        headers: {\n          Authorization: \"Bearer \".concat(token)\n        }\n      }).then(function (response) {\n        var _response$data = response.data,\n            data = _response$data.data,\n            currentPageIndex = _response$data.current_page,\n            totalPageCount = _response$data.last_page;\n        var dataWithAds = addRandomAds(data);\n\n        if (pageIndex) {\n          setBookmarks([].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bookmarks), Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dataWithAds)));\n        } else {\n          setBookmarks(dataWithAds);\n        }\n\n        setPageInfo({\n          currentPageIndex: currentPageIndex,\n          totalPageCount: totalPageCount\n        });\n      })[\"catch\"](function (error) {\n        console.log('[ERROR] Get Bookmarks');\n        console.log(error.response.data);\n      }).then(function () {\n        setIsLoading(true);\n        setIsRefreshing(false);\n      });\n    }\n  };\n\n  var getNextBookmarks = function getNextBookmarks() {\n    if (pageInfo) {\n      var currentPageIndex = pageInfo.currentPageIndex,\n          totalPageCount = pageInfo.totalPageCount;\n\n      if (currentPageIndex < totalPageCount) {\n        getBookmarks(ordering, currentPageIndex + 1);\n      }\n    }\n  };\n\n  var addBookmark = function addBookmark(post) {\n    setBookmarkPost({\n      id: post.id,\n      isBookmark: true\n    });\n    var token = localStorage.getItem('token');\n    axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks/add\"), {\n      id: post.id\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function () {})[\"catch\"](function (error) {\n      console.log('[ERROR] Add Bookmarks');\n      console.log(error.response.data);\n    });\n    setBookmarks([_objectSpread(_objectSpread({}, post), {}, {\n      bookmark_user_id: 1\n    })].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bookmarks)));\n  };\n\n  var removeBookmark = function removeBookmark(id) {\n    var adsCount = 0;\n    var tempBookmarks = bookmarks.filter(function (item) {\n      if (item === 'Ads') {\n        adsCount++;\n        return true;\n      }\n\n      return item.id !== id;\n    });\n\n    if (tempBookmarks.length === adsCount) {\n      tempBookmarks = [];\n    }\n\n    if (tempBookmarks[0] === 'Ads') {\n      tempBookmarks.shift();\n    }\n\n    setBookmarks(tempBookmarks);\n  };\n\n  var deleteBookmark = function deleteBookmark(id) {\n    removeBookmark(id);\n    var token = localStorage.getItem('token');\n    setBookmarkPost({\n      id: id,\n      isBookmark: false\n    });\n    axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(\"\".concat(_env__WEBPACK_IMPORTED_MODULE_4__[\"default\"].server, \"/api/clog/bookmarks/delete\"), {\n      id: id\n    }, {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      }\n    }).then(function () {})[\"catch\"](function (error) {\n      console.log('[ERROR] Delete Bookmarks');\n      console.log(error.response.data);\n    });\n  };\n\n  var refreshBookmarks = function refreshBookmarks() {\n    setIsRefreshing(true);\n    getBookmarks(ordering);\n  };\n\n  var blockPost = function blockPost(postId) {\n    removeBookmark(postId);\n  };\n\n  var blockAuthor = function blockAuthor(authorId) {\n    var adsCount = 0;\n    var tempBookmarks = bookmarks.filter(function (item) {\n      if (item === 'Ads') {\n        adsCount++;\n        return true;\n      }\n\n      return item['author_id'] !== authorId;\n    });\n\n    if (tempBookmarks.length === adsCount) {\n      tempBookmarks = [];\n    }\n\n    setBookmarks(tempBookmarks);\n  };\n\n  var changeOrdering = function changeOrdering(key) {\n    setOrdering(key);\n    setIsLoading(false);\n    setBookmarks([]);\n    setTimeout(function () {\n      getBookmarks(key);\n    }, 400);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    getBookmarks(ordering);\n  }, []);\n  return __jsx(BookmarkContext.Provider, {\n    value: {\n      isLoading: isLoading,\n      isRefreshing: isRefreshing,\n      bookmarks: bookmarks,\n      bookmarkPost: bookmarkPost,\n      ordering: ordering,\n      addBookmark: addBookmark,\n      deleteBookmark: deleteBookmark,\n      getBookmarks: getBookmarks,\n      getNextBookmarks: getNextBookmarks,\n      refreshBookmarks: refreshBookmarks,\n      blockPost: blockPost,\n      blockAuthor: blockAuthor,\n      changeOrdering: changeOrdering\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 5\n    }\n  }, children);\n};\n\n_s(BookmarkProvider, \"qmcz3OpxPkBM/D8y7dEOK0NdLcU=\");\n\n_c = BookmarkProvider;\n\n\nvar _c;\n\n$RefreshReg$(_c, \"BookmarkProvider\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.i);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29udGV4dHMvQm9va21hcmsvaW5kZXgudHN4PzM0OWEiXSwibmFtZXMiOlsiQm9va21hcmtDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImlzTG9hZGluZyIsImlzUmVmcmVzaGluZyIsImJvb2ttYXJrcyIsImJvb2ttYXJrUG9zdCIsInVuZGVmaW5lZCIsIm9yZGVyaW5nIiwiYWRkQm9va21hcmsiLCJkZWxldGVCb29rbWFyayIsImdldEJvb2ttYXJrcyIsImdldE5leHRCb29rbWFya3MiLCJyZWZyZXNoQm9va21hcmtzIiwiYmxvY2tQb3N0IiwiYmxvY2tBdXRob3IiLCJjaGFuZ2VPcmRlcmluZyIsIkJvb2ttYXJrUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZVN0YXRlIiwic2V0SXNMb2FkaW5nIiwic2V0SXNSZWZyZXNoaW5nIiwic2V0Qm9va21hcmtzIiwicGFnZUluZm8iLCJzZXRQYWdlSW5mbyIsInNldEJvb2ttYXJrUG9zdCIsInNldE9yZGVyaW5nIiwiYWRkUmFuZG9tQWRzIiwiZGF0YSIsInJlc3VsdCIsImluZGV4IiwibGVuZ3RoIiwibWF4IiwibWluIiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzcGxpY2UiLCJqb2luIiwicGFnZUluZGV4IiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXJsIiwiRU5WIiwic2VydmVyIiwiQXhpb3MiLCJnZXQiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXNwb25zZSIsImN1cnJlbnRQYWdlSW5kZXgiLCJjdXJyZW50X3BhZ2UiLCJ0b3RhbFBhZ2VDb3VudCIsImxhc3RfcGFnZSIsImRhdGFXaXRoQWRzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicG9zdCIsImlkIiwiaXNCb29rbWFyayIsImJvb2ttYXJrX3VzZXJfaWQiLCJyZW1vdmVCb29rbWFyayIsImFkc0NvdW50IiwidGVtcEJvb2ttYXJrcyIsImZpbHRlciIsIml0ZW0iLCJzaGlmdCIsInBvc3RJZCIsImF1dGhvcklkIiwia2V5Iiwic2V0VGltZW91dCIsInVzZUVmZmVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQSxJQUFNQSxlQUFlLEdBQUdDLDJEQUFhLENBQWtCO0FBQ3JEQyxXQUFTLEVBQUUsS0FEMEM7QUFFckRDLGNBQVksRUFBRSxLQUZ1QztBQUdyREMsV0FBUyxFQUFFLEVBSDBDO0FBSXJEQyxjQUFZLEVBQUVDLFNBSnVDO0FBS3JEQyxVQUFRLEVBQUUsTUFMMkM7QUFNckRDLGFBQVcsRUFBRSx1QkFBWSxDQUFFLENBTjBCO0FBT3JEQyxnQkFBYyxFQUFFLDBCQUFZLENBQUUsQ0FQdUI7QUFRckRDLGNBQVksRUFBRSx3QkFBWSxDQUFFLENBUnlCO0FBU3JEQyxrQkFBZ0IsRUFBRSw0QkFBWSxDQUFFLENBVHFCO0FBVXJEQyxrQkFBZ0IsRUFBRSw0QkFBWSxDQUFFLENBVnFCO0FBV3JEQyxXQUFTLEVBQUUscUJBQVksQ0FBRSxDQVg0QjtBQVlyREMsYUFBVyxFQUFFLHVCQUFZLENBQUUsQ0FaMEI7QUFhckRDLGdCQUFjLEVBQUUsMEJBQVksQ0FBRTtBQWJ1QixDQUFsQixDQUFyQzs7QUFvQkEsSUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixPQUFzQztBQUFBOztBQUFBLE1BQW5DQyxRQUFtQyxRQUFuQ0EsUUFBbUM7O0FBQUEsa0JBQzNCQyxzREFBUSxDQUFVLEtBQVYsQ0FEbUI7QUFBQSxNQUN0RGhCLFNBRHNEO0FBQUEsTUFDM0NpQixZQUQyQzs7QUFBQSxtQkFFckJELHNEQUFRLENBQVUsS0FBVixDQUZhO0FBQUEsTUFFdERmLFlBRnNEO0FBQUEsTUFFeENpQixlQUZ3Qzs7QUFBQSxtQkFHM0JGLHNEQUFRLENBQXNCLEVBQXRCLENBSG1CO0FBQUEsTUFHdERkLFNBSHNEO0FBQUEsTUFHM0NpQixZQUgyQzs7QUFBQSxtQkFJN0JILHNEQUFRLENBQXVCWixTQUF2QixDQUpxQjtBQUFBLE1BSXREZ0IsUUFKc0Q7QUFBQSxNQUk1Q0MsV0FKNEM7O0FBQUEsbUJBS3JCTCxzREFBUSxDQUM5Q1osU0FEOEMsQ0FMYTtBQUFBLE1BS3RERCxZQUxzRDtBQUFBLE1BS3hDbUIsZUFMd0M7O0FBQUEsbUJBUTdCTixzREFBUSxDQUFtQixNQUFuQixDQVJxQjtBQUFBLE1BUXREWCxRQVJzRDtBQUFBLE1BUTVDa0IsV0FSNEM7O0FBVTdELE1BQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUNDLElBQUQsRUFBNEM7QUFDL0QsUUFBTUMsTUFBMkIsR0FBRyw2RkFBSUQsSUFBUCxDQUFqQzs7QUFDQSxTQUFLLElBQUlFLEtBQUssR0FBRyxDQUFqQixFQUFvQkEsS0FBSyxHQUFHRixJQUFJLENBQUNHLE1BQWpDLEVBQXlDRCxLQUFLLEVBQTlDLEVBQWtEO0FBQ2hELFVBQU1FLEdBQUcsR0FBR0YsS0FBSyxHQUFHLENBQXBCO0FBQ0EsVUFBTUcsR0FBRyxHQUFHSCxLQUFLLEdBQUcsQ0FBcEI7QUFDQSxVQUFNSSxXQUFXLEdBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsTUFBaUJMLEdBQUcsR0FBR0MsR0FBdkIsQ0FBWCxJQUEwQ0EsR0FBOUQ7QUFDQUosWUFBTSxDQUFDUyxNQUFQLENBQWNKLFdBQWQsRUFBMkIsQ0FBM0IsRUFBOEIsS0FBOUIsRUFBcUNLLElBQXJDO0FBQ0FULFdBQUssSUFBSUksV0FBVDtBQUNEOztBQUNELFdBQU9MLE1BQVA7QUFDRCxHQVZEOztBQVlBLE1BQU1sQixZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDSCxRQUFELEVBQTZCZ0MsU0FBN0IsRUFBMEQ7QUFDN0UsUUFBTUMsS0FBSyxHQUFHQyxZQUFZLENBQUNDLE9BQWIsQ0FBcUIsT0FBckIsQ0FBZDs7QUFDQSxRQUFJRixLQUFKLEVBQVc7QUFDVCxVQUFJRyxHQUFHLGFBQU1DLDRDQUFHLENBQUNDLE1BQVYsMENBQWdEdEMsUUFBaEQsQ0FBUDs7QUFDQSxVQUFJZ0MsU0FBSixFQUFlO0FBQ2JJLFdBQUcsb0JBQWFKLFNBQWIsQ0FBSDtBQUNEOztBQUVETyxrREFBSyxDQUFDQyxHQUFOLENBQVVKLEdBQVYsRUFBZTtBQUNiSyxlQUFPLEVBQUU7QUFBRUMsdUJBQWEsbUJBQVlULEtBQVo7QUFBZjtBQURJLE9BQWYsRUFHR1UsSUFISCxDQUdRLFVBQUNDLFFBQUQsRUFBb0I7QUFBQSw2QkFLcEJBLFFBQVEsQ0FBQ3hCLElBTFc7QUFBQSxZQUV0QkEsSUFGc0Isa0JBRXRCQSxJQUZzQjtBQUFBLFlBR1J5QixnQkFIUSxrQkFHdEJDLFlBSHNCO0FBQUEsWUFJWEMsY0FKVyxrQkFJdEJDLFNBSnNCO0FBTXhCLFlBQU1DLFdBQVcsR0FBRzlCLFlBQVksQ0FBQ0MsSUFBRCxDQUFoQzs7QUFFQSxZQUFJWSxTQUFKLEVBQWU7QUFDYmxCLHNCQUFZLHdHQUFLakIsU0FBTCxnR0FBbUJvRCxXQUFuQixHQUFaO0FBQ0QsU0FGRCxNQUVPO0FBQ0xuQyxzQkFBWSxDQUFDbUMsV0FBRCxDQUFaO0FBQ0Q7O0FBRURqQyxtQkFBVyxDQUFDO0FBQ1Y2QiwwQkFBZ0IsRUFBaEJBLGdCQURVO0FBRVZFLHdCQUFjLEVBQWRBO0FBRlUsU0FBRCxDQUFYO0FBSUQsT0FyQkgsV0FzQlMsVUFBQ0csS0FBRCxFQUFpQjtBQUN0QkMsZUFBTyxDQUFDQyxHQUFSLENBQVksdUJBQVo7QUFDQUQsZUFBTyxDQUFDQyxHQUFSLENBQVlGLEtBQUssQ0FBQ04sUUFBTixDQUFleEIsSUFBM0I7QUFDRCxPQXpCSCxFQTBCR3VCLElBMUJILENBMEJRLFlBQVk7QUFDaEIvQixvQkFBWSxDQUFDLElBQUQsQ0FBWjtBQUNBQyx1QkFBZSxDQUFDLEtBQUQsQ0FBZjtBQUNELE9BN0JIO0FBOEJEO0FBQ0YsR0F2Q0Q7O0FBeUNBLE1BQU1ULGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsR0FBWTtBQUNuQyxRQUFJVyxRQUFKLEVBQWM7QUFBQSxVQUNKOEIsZ0JBREksR0FDaUM5QixRQURqQyxDQUNKOEIsZ0JBREk7QUFBQSxVQUNjRSxjQURkLEdBQ2lDaEMsUUFEakMsQ0FDY2dDLGNBRGQ7O0FBRVosVUFBSUYsZ0JBQWdCLEdBQUdFLGNBQXZCLEVBQXVDO0FBQ3JDNUMsb0JBQVksQ0FBQ0gsUUFBRCxFQUFXNkMsZ0JBQWdCLEdBQUcsQ0FBOUIsQ0FBWjtBQUNEO0FBQ0Y7QUFDRixHQVBEOztBQVNBLE1BQU01QyxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDb0QsSUFBRCxFQUFzQjtBQUN4Q3BDLG1CQUFlLENBQUM7QUFDZHFDLFFBQUUsRUFBRUQsSUFBSSxDQUFDQyxFQURLO0FBRWRDLGdCQUFVLEVBQUU7QUFGRSxLQUFELENBQWY7QUFJQSxRQUFNdEIsS0FBSyxHQUFHQyxZQUFZLENBQUNDLE9BQWIsQ0FBcUIsT0FBckIsQ0FBZDtBQUNBSSxnREFBSyxDQUFDYyxJQUFOLFdBQ0toQiw0Q0FBRyxDQUFDQyxNQURULDhCQUVFO0FBQ0VnQixRQUFFLEVBQUVELElBQUksQ0FBQ0M7QUFEWCxLQUZGLEVBS0U7QUFDRWIsYUFBTyxFQUFFO0FBQUVDLHFCQUFhLG1CQUFZVCxLQUFaO0FBQWY7QUFEWCxLQUxGLEVBU0dVLElBVEgsQ0FTUSxZQUFZLENBQUUsQ0FUdEIsV0FVUyxVQUFDTyxLQUFELEVBQWlCO0FBQ3RCQyxhQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtBQUNBRCxhQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBSyxDQUFDTixRQUFOLENBQWV4QixJQUEzQjtBQUNELEtBYkg7QUFlQU4sZ0JBQVksa0NBQU91QyxJQUFQO0FBQWFHLHNCQUFnQixFQUFFO0FBQS9CLDRHQUF1QzNELFNBQXZDLEdBQVo7QUFDRCxHQXRCRDs7QUF3QkEsTUFBTTRELGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsQ0FBQ0gsRUFBRCxFQUFzQjtBQUMzQyxRQUFJSSxRQUFRLEdBQUcsQ0FBZjtBQUNBLFFBQUlDLGFBQWEsR0FBRzlELFNBQVMsQ0FBQytELE1BQVYsQ0FBaUIsVUFBQ0MsSUFBRCxFQUFpQztBQUNwRSxVQUFJQSxJQUFJLEtBQUssS0FBYixFQUFvQjtBQUNsQkgsZ0JBQVE7QUFDUixlQUFPLElBQVA7QUFDRDs7QUFDRCxhQUFPRyxJQUFJLENBQUNQLEVBQUwsS0FBWUEsRUFBbkI7QUFDRCxLQU5tQixDQUFwQjs7QUFRQSxRQUFJSyxhQUFhLENBQUNwQyxNQUFkLEtBQXlCbUMsUUFBN0IsRUFBdUM7QUFDckNDLG1CQUFhLEdBQUcsRUFBaEI7QUFDRDs7QUFFRCxRQUFJQSxhQUFhLENBQUMsQ0FBRCxDQUFiLEtBQXFCLEtBQXpCLEVBQWdDO0FBQzlCQSxtQkFBYSxDQUFDRyxLQUFkO0FBQ0Q7O0FBRURoRCxnQkFBWSxDQUFDNkMsYUFBRCxDQUFaO0FBQ0QsR0FuQkQ7O0FBcUJBLE1BQU16RCxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNvRCxFQUFELEVBQXNCO0FBQzNDRyxrQkFBYyxDQUFDSCxFQUFELENBQWQ7QUFDQSxRQUFNckIsS0FBSyxHQUFHQyxZQUFZLENBQUNDLE9BQWIsQ0FBcUIsT0FBckIsQ0FBZDtBQUNBbEIsbUJBQWUsQ0FBQztBQUNkcUMsUUFBRSxFQUFGQSxFQURjO0FBRWRDLGdCQUFVLEVBQUU7QUFGRSxLQUFELENBQWY7QUFLQWhCLGdEQUFLLENBQUNjLElBQU4sV0FDS2hCLDRDQUFHLENBQUNDLE1BRFQsaUNBRUU7QUFDRWdCLFFBQUUsRUFBRkE7QUFERixLQUZGLEVBS0U7QUFDRWIsYUFBTyxFQUFFO0FBQUVDLHFCQUFhLG1CQUFZVCxLQUFaO0FBQWY7QUFEWCxLQUxGLEVBU0dVLElBVEgsQ0FTUSxZQUFZLENBQUUsQ0FUdEIsV0FVUyxVQUFDTyxLQUFELEVBQWlCO0FBQ3RCQyxhQUFPLENBQUNDLEdBQVIsQ0FBWSwwQkFBWjtBQUNBRCxhQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBSyxDQUFDTixRQUFOLENBQWV4QixJQUEzQjtBQUNELEtBYkg7QUFjRCxHQXRCRDs7QUF3QkEsTUFBTWYsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQixHQUFZO0FBQ25DUSxtQkFBZSxDQUFDLElBQUQsQ0FBZjtBQUNBVixnQkFBWSxDQUFDSCxRQUFELENBQVo7QUFDRCxHQUhEOztBQUtBLE1BQU1NLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUN5RCxNQUFELEVBQTBCO0FBQzFDTixrQkFBYyxDQUFDTSxNQUFELENBQWQ7QUFDRCxHQUZEOztBQUlBLE1BQU14RCxXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDeUQsUUFBRCxFQUE0QjtBQUM5QyxRQUFJTixRQUFRLEdBQUcsQ0FBZjtBQUNBLFFBQUlDLGFBQWEsR0FBRzlELFNBQVMsQ0FBQytELE1BQVYsQ0FBaUIsVUFBQ0MsSUFBRCxFQUFpQztBQUNwRSxVQUFJQSxJQUFJLEtBQUssS0FBYixFQUFvQjtBQUNsQkgsZ0JBQVE7QUFDUixlQUFPLElBQVA7QUFDRDs7QUFDRCxhQUFPRyxJQUFJLENBQUMsV0FBRCxDQUFKLEtBQXNCRyxRQUE3QjtBQUNELEtBTm1CLENBQXBCOztBQVFBLFFBQUlMLGFBQWEsQ0FBQ3BDLE1BQWQsS0FBeUJtQyxRQUE3QixFQUF1QztBQUNyQ0MsbUJBQWEsR0FBRyxFQUFoQjtBQUNEOztBQUVEN0MsZ0JBQVksQ0FBQzZDLGFBQUQsQ0FBWjtBQUNELEdBZkQ7O0FBaUJBLE1BQU1uRCxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUN5RCxHQUFELEVBQWlDO0FBQ3REL0MsZUFBVyxDQUFDK0MsR0FBRCxDQUFYO0FBQ0FyRCxnQkFBWSxDQUFDLEtBQUQsQ0FBWjtBQUNBRSxnQkFBWSxDQUFDLEVBQUQsQ0FBWjtBQUVBb0QsY0FBVSxDQUFDLFlBQU07QUFDZi9ELGtCQUFZLENBQUM4RCxHQUFELENBQVo7QUFDRCxLQUZTLEVBRVAsR0FGTyxDQUFWO0FBR0QsR0FSRDs7QUFVQUUseURBQVMsQ0FBQyxZQUFNO0FBQ2RoRSxnQkFBWSxDQUFDSCxRQUFELENBQVo7QUFDRCxHQUZRLEVBRU4sRUFGTSxDQUFUO0FBSUEsU0FDRSxNQUFDLGVBQUQsQ0FBaUIsUUFBakI7QUFDRSxTQUFLLEVBQUU7QUFDTEwsZUFBUyxFQUFUQSxTQURLO0FBRUxDLGtCQUFZLEVBQVpBLFlBRks7QUFHTEMsZUFBUyxFQUFUQSxTQUhLO0FBSUxDLGtCQUFZLEVBQVpBLFlBSks7QUFLTEUsY0FBUSxFQUFSQSxRQUxLO0FBTUxDLGlCQUFXLEVBQVhBLFdBTks7QUFPTEMsb0JBQWMsRUFBZEEsY0FQSztBQVFMQyxrQkFBWSxFQUFaQSxZQVJLO0FBU0xDLHNCQUFnQixFQUFoQkEsZ0JBVEs7QUFVTEMsc0JBQWdCLEVBQWhCQSxnQkFWSztBQVdMQyxlQUFTLEVBQVRBLFNBWEs7QUFZTEMsaUJBQVcsRUFBWEEsV0FaSztBQWFMQyxvQkFBYyxFQUFkQTtBQWJLLEtBRFQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxLQWdCR0UsUUFoQkgsQ0FERjtBQW9CRCxDQXpNRDs7R0FBTUQsZ0I7O0tBQUFBLGdCO0FBMk1OIiwiZmlsZSI6Ii4vY29udGV4dHMvQm9va21hcmsvaW5kZXgudHN4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5pbXBvcnQgRU5WIGZyb20gJ34vZW52JztcblxuY29uc3QgQm9va21hcmtDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxCb29rbWFya0NvbnRleHQ+KHtcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgaXNSZWZyZXNoaW5nOiBmYWxzZSxcbiAgYm9va21hcmtzOiBbXSxcbiAgYm9va21hcmtQb3N0OiB1bmRlZmluZWQsXG4gIG9yZGVyaW5nOiAnZGVzYycsXG4gIGFkZEJvb2ttYXJrOiAoKTogdm9pZCA9PiB7fSxcbiAgZGVsZXRlQm9va21hcms6ICgpOiB2b2lkID0+IHt9LFxuICBnZXRCb29rbWFya3M6ICgpOiB2b2lkID0+IHt9LFxuICBnZXROZXh0Qm9va21hcmtzOiAoKTogdm9pZCA9PiB7fSxcbiAgcmVmcmVzaEJvb2ttYXJrczogKCk6IHZvaWQgPT4ge30sXG4gIGJsb2NrUG9zdDogKCk6IHZvaWQgPT4ge30sXG4gIGJsb2NrQXV0aG9yOiAoKTogdm9pZCA9PiB7fSxcbiAgY2hhbmdlT3JkZXJpbmc6ICgpOiB2b2lkID0+IHt9LFxufSk7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGNoaWxkcmVuOiBKU1guRWxlbWVudCB8IEFycmF5PEpTWC5FbGVtZW50Pjtcbn1cblxuY29uc3QgQm9va21hcmtQcm92aWRlciA9ICh7IGNoaWxkcmVuIH06IFByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbaXNSZWZyZXNoaW5nLCBzZXRJc1JlZnJlc2hpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbYm9va21hcmtzLCBzZXRCb29rbWFya3NdID0gdXNlU3RhdGU8QXJyYXk8UG9zdCB8ICdBZHMnPj4oW10pO1xuICBjb25zdCBbcGFnZUluZm8sIHNldFBhZ2VJbmZvXSA9IHVzZVN0YXRlPFBhZ2VJbmZvIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBjb25zdCBbYm9va21hcmtQb3N0LCBzZXRCb29rbWFya1Bvc3RdID0gdXNlU3RhdGU8Qm9va21hcmtQb3N0IHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWRcbiAgKTtcbiAgY29uc3QgW29yZGVyaW5nLCBzZXRPcmRlcmluZ10gPSB1c2VTdGF0ZTxCb29rbWFya09yZGVyaW5nPignZGVzYycpO1xuXG4gIGNvbnN0IGFkZFJhbmRvbUFkcyA9IChkYXRhOiBBcnJheTxQb3N0Pik6IEFycmF5PFBvc3QgfCAnQWRzJz4gPT4ge1xuICAgIGNvbnN0IHJlc3VsdDogQXJyYXk8UG9zdCB8ICdBZHMnPiA9IFsuLi5kYXRhXTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGF0YS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IG1heCA9IGluZGV4ICsgODtcbiAgICAgIGNvbnN0IG1pbiA9IGluZGV4ICsgNTtcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikpICsgbWluO1xuICAgICAgcmVzdWx0LnNwbGljZShyYW5kb21JbmRleCwgMCwgJ0FkcycpLmpvaW4oKTtcbiAgICAgIGluZGV4ICs9IHJhbmRvbUluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IGdldEJvb2ttYXJrcyA9IChvcmRlcmluZzogQm9va21hcmtPcmRlcmluZywgcGFnZUluZGV4PzogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGxldCB1cmwgPSBgJHtFTlYuc2VydmVyfS9hcGkvY2xvZy9ib29rbWFya3M/b3JkZXJpbmc9JHtvcmRlcmluZ31gO1xuICAgICAgaWYgKHBhZ2VJbmRleCkge1xuICAgICAgICB1cmwgKz0gYCZwYWdlPSR7cGFnZUluZGV4fWA7XG4gICAgICB9XG5cbiAgICAgIEF4aW9zLmdldCh1cmwsIHtcbiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9LFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKTogdm9pZCA9PiB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGN1cnJlbnRfcGFnZTogY3VycmVudFBhZ2VJbmRleCxcbiAgICAgICAgICAgIGxhc3RfcGFnZTogdG90YWxQYWdlQ291bnQsXG4gICAgICAgICAgfSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgY29uc3QgZGF0YVdpdGhBZHMgPSBhZGRSYW5kb21BZHMoZGF0YSk7XG5cbiAgICAgICAgICBpZiAocGFnZUluZGV4KSB7XG4gICAgICAgICAgICBzZXRCb29rbWFya3MoWy4uLmJvb2ttYXJrcywgLi4uZGF0YVdpdGhBZHNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0Qm9va21hcmtzKGRhdGFXaXRoQWRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRQYWdlSW5mbyh7XG4gICAgICAgICAgICBjdXJyZW50UGFnZUluZGV4LFxuICAgICAgICAgICAgdG90YWxQYWdlQ291bnQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnW0VSUk9SXSBHZXQgQm9va21hcmtzJyk7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpOiB2b2lkID0+IHtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgc2V0SXNSZWZyZXNoaW5nKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldE5leHRCb29rbWFya3MgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKHBhZ2VJbmZvKSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRQYWdlSW5kZXgsIHRvdGFsUGFnZUNvdW50IH0gPSBwYWdlSW5mbztcbiAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4IDwgdG90YWxQYWdlQ291bnQpIHtcbiAgICAgICAgZ2V0Qm9va21hcmtzKG9yZGVyaW5nLCBjdXJyZW50UGFnZUluZGV4ICsgMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFkZEJvb2ttYXJrID0gKHBvc3Q6IFBvc3QpOiB2b2lkID0+IHtcbiAgICBzZXRCb29rbWFya1Bvc3Qoe1xuICAgICAgaWQ6IHBvc3QuaWQsXG4gICAgICBpc0Jvb2ttYXJrOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgQXhpb3MucG9zdChcbiAgICAgIGAke0VOVi5zZXJ2ZXJ9L2FwaS9jbG9nL2Jvb2ttYXJrcy9hZGRgLFxuICAgICAge1xuICAgICAgICBpZDogcG9zdC5pZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigoKTogdm9pZCA9PiB7fSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tFUlJPUl0gQWRkIEJvb2ttYXJrcycpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgc2V0Qm9va21hcmtzKFt7IC4uLnBvc3QsIGJvb2ttYXJrX3VzZXJfaWQ6IDEgfSwgLi4uYm9va21hcmtzXSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQm9va21hcmsgPSAoaWQ6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIGxldCBhZHNDb3VudCA9IDA7XG4gICAgbGV0IHRlbXBCb29rbWFya3MgPSBib29rbWFya3MuZmlsdGVyKChpdGVtOiBQb3N0IHwgJ0FkcycpOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChpdGVtID09PSAnQWRzJykge1xuICAgICAgICBhZHNDb3VudCsrO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtLmlkICE9PSBpZDtcbiAgICB9KTtcblxuICAgIGlmICh0ZW1wQm9va21hcmtzLmxlbmd0aCA9PT0gYWRzQ291bnQpIHtcbiAgICAgIHRlbXBCb29rbWFya3MgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAodGVtcEJvb2ttYXJrc1swXSA9PT0gJ0FkcycpIHtcbiAgICAgIHRlbXBCb29rbWFya3Muc2hpZnQoKTtcbiAgICB9XG5cbiAgICBzZXRCb29rbWFya3ModGVtcEJvb2ttYXJrcyk7XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlQm9va21hcmsgPSAoaWQ6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIHJlbW92ZUJvb2ttYXJrKGlkKTtcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xuICAgIHNldEJvb2ttYXJrUG9zdCh7XG4gICAgICBpZCxcbiAgICAgIGlzQm9va21hcms6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgQXhpb3MucG9zdChcbiAgICAgIGAke0VOVi5zZXJ2ZXJ9L2FwaS9jbG9nL2Jvb2ttYXJrcy9kZWxldGVgLFxuICAgICAge1xuICAgICAgICBpZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbigoKTogdm9pZCA9PiB7fSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tFUlJPUl0gRGVsZXRlIEJvb2ttYXJrcycpO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlZnJlc2hCb29rbWFya3MgPSAoKTogdm9pZCA9PiB7XG4gICAgc2V0SXNSZWZyZXNoaW5nKHRydWUpO1xuICAgIGdldEJvb2ttYXJrcyhvcmRlcmluZyk7XG4gIH07XG5cbiAgY29uc3QgYmxvY2tQb3N0ID0gKHBvc3RJZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgcmVtb3ZlQm9va21hcmsocG9zdElkKTtcbiAgfTtcblxuICBjb25zdCBibG9ja0F1dGhvciA9IChhdXRob3JJZDogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgbGV0IGFkc0NvdW50ID0gMDtcbiAgICBsZXQgdGVtcEJvb2ttYXJrcyA9IGJvb2ttYXJrcy5maWx0ZXIoKGl0ZW06IFBvc3QgfCAnQWRzJyk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGl0ZW0gPT09ICdBZHMnKSB7XG4gICAgICAgIGFkc0NvdW50Kys7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1bJ2F1dGhvcl9pZCddICE9PSBhdXRob3JJZDtcbiAgICB9KTtcblxuICAgIGlmICh0ZW1wQm9va21hcmtzLmxlbmd0aCA9PT0gYWRzQ291bnQpIHtcbiAgICAgIHRlbXBCb29rbWFya3MgPSBbXTtcbiAgICB9XG5cbiAgICBzZXRCb29rbWFya3ModGVtcEJvb2ttYXJrcyk7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlT3JkZXJpbmcgPSAoa2V5OiBCb29rbWFya09yZGVyaW5nKTogdm9pZCA9PiB7XG4gICAgc2V0T3JkZXJpbmcoa2V5KTtcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIHNldEJvb2ttYXJrcyhbXSk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGdldEJvb2ttYXJrcyhrZXkpO1xuICAgIH0sIDQwMCk7XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdldEJvb2ttYXJrcyhvcmRlcmluZyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxCb29rbWFya0NvbnRleHQuUHJvdmlkZXJcbiAgICAgIHZhbHVlPXt7XG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgaXNSZWZyZXNoaW5nLFxuICAgICAgICBib29rbWFya3MsXG4gICAgICAgIGJvb2ttYXJrUG9zdCxcbiAgICAgICAgb3JkZXJpbmcsXG4gICAgICAgIGFkZEJvb2ttYXJrLFxuICAgICAgICBkZWxldGVCb29rbWFyayxcbiAgICAgICAgZ2V0Qm9va21hcmtzLFxuICAgICAgICBnZXROZXh0Qm9va21hcmtzLFxuICAgICAgICByZWZyZXNoQm9va21hcmtzLFxuICAgICAgICBibG9ja1Bvc3QsXG4gICAgICAgIGJsb2NrQXV0aG9yLFxuICAgICAgICBjaGFuZ2VPcmRlcmluZyxcbiAgICAgIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQm9va21hcmtDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcblxuZXhwb3J0IHsgQm9va21hcmtDb250ZXh0LCBCb29rbWFya1Byb3ZpZGVyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./contexts/Bookmark/index.tsx\n");

/***/ })

})